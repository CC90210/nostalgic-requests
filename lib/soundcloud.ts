const SC_API_BASE = 'https://api-v2.soundcloud.com'; const CLIENT_ID = process.env.SOUNDCLOUD_CLIENT_ID; export async function searchTracks(query: string) { if (!CLIENT_ID) throw new Error('SOUNDCLOUD_CLIENT_ID is missing'); const params = new URLSearchParams({ q: query, client_id: CLIENT_ID, limit: '20' }); const res = await fetch(`${SC_API_BASE}/search/tracks?${params.toString()}`); if (!res.ok) throw new Error('Failed to fetch from SoundCloud'); return res.json(); }
